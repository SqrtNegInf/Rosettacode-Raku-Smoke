#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Periodic_table
#c# 2022-06-20 >RC
#m# MOAR: OK
#j#  JVM: OK
#n# count in base 18, advance and retard as needed

my @res;

#my @offset = (16, 10, 10, (2*18)+1, (-3*18)+3, (2*18)+1, (-3*18)+3 );
#my @span   = flat ^9 »xx« (1, 3, 8, 44, 15, 17, 15, 17, 15);

my @offset = (16, 10, 10, (2*18)+1, (-2*18)-15, (2*18)+1, (-2*18)-15 );
my @span   = flat ^8 Zxx <1 3 8 44 15 17 15 17>;

#for <1 2 29 42 57 58 72 89 90 103> -> $n {
for 1, 2, 29, 42, 56, 57, 58, 71, 72, 88, 89, 90, 103, 104, 118 -> $n {
    @res.push: sprintf "n: %3d r: %3d c: %3d", $n, map {1 + $_}, ($n-1 + [+] @offset.head(@span[$n-1])).polymod(18).reverse;
}

.say for @res;

my $ref = qq:to/END/;
n:   1 r:   1 c:   1
n:   2 r:   1 c:  18
n:  29 r:   4 c:  11
n:  42 r:   5 c:   6
n:  56 r:   6 c:   2
n:  57 r:   8 c:   4
n:  58 r:   8 c:   5
n:  71 r:   8 c:  18
n:  72 r:   6 c:   4
n:  88 r:   7 c:   2
n:  89 r:   9 c:   4
n:  90 r:   9 c:   5
n: 103 r:   9 c:  18
n: 104 r:   7 c:   4
n: 118 r:   7 c:  18
END

use Test;
is @res.join("\n"), chomp $ref;

=finish

=={{header|Raku}}==
<lang perl6>
</lang>
{{out}}
<pre>
</pre>
