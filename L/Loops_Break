#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Loops/Break
#c# 2015-11-23 <RC
#m# MOAR: OK
#j#  JVM: OK

srand 123456;

my @res;

loop {
    @res.push: my $n = (0..19).pick;
    last if $n == 10;
    @res.push: (0..19).pick;
}

.say for @res;

my $moar-terminal = qq:to/END/;
17
11
18
6
17
14
10
END

my $moar-cronjob-mac-pro = qq:to/END/;
10
END

my $moar-cronjob-imac = qq:to/END/;
7
5
16
17
9
5
14
6
19
19
16
10
15
0
5
1
14
18
5
10
1
13
8
13
8
4
18
11
7
7
6
3
11
7
17
6
5
7
17
2
2
4
18
5
17
10
8
9
0
5
2
12
2
0
8
19
19
15
1
11
19
5
5
16
7
18
6
6
18
5
15
7
13
8
3
1
14
7
8
2
3
5
5
4
18
5
2
3
3
13
11
1
18
17
12
14
19
17
19
1
14
4
7
11
14
8
9
17
11
17
19
11
11
7
4
15
6
5
9
19
1
10
4
18
7
0
14
1
2
8
19
4
10
END

my $moar-cronjob-linux = qq:to/END/;
11
17
0
19
13
11
7
4
6
5
16
17
4
0
19
14
16
17
3
3
11
8
4
5
13
19
6
8
14
17
7
12
2
6
0
12
13
16
9
9
5
18
5
12
1
6
9
15
3
5
8
17
18
5
8
1
1
15
6
2
4
7
9
16
13
6
7
12
8
2
15
7
12
5
16
17
9
5
14
6
19
19
16
10
15
0
5
1
14
18
5
10
1
13
8
13
8
4
18
11
7
7
6
3
11
7
17
6
5
7
17
2
2
4
18
5
17
10
8
9
0
5
2
12
2
0
8
19
19
15
1
11
19
5
5
16
7
18
6
6
18
5
15
7
13
8
3
1
14
7
8
2
3
5
5
4
18
5
2
3
3
13
11
1
18
17
12
14
19
17
19
1
14
4
7
11
14
8
9
17
11
17
19
11
11
7
4
15
6
5
9
19
1
10
4
18
7
0
14
1
2
8
19
4
10
END

my $jvm = qq:to/END/;
7
14
10
END

use Test;
if $*KERNEL eq 'linux' {
    is @res.join("\n"), chomp $moar-cronjob-linux
} elsif (qx/uname -a/ ~~ /'iMac'/) {
    is @res.join("\n"), chomp $moar-cronjob-imac
} else {
    is @res.join("\n"), chomp $*VM ~~ /jvm/ ?? $jvm !! $moar-cronjob-mac-pro;
}
