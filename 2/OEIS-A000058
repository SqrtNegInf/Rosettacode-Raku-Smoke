#!/usr/bin/env raku
#u# https://oeis.org/A000058
#c# 2023-02-04 NOT ON RC
#m# MOAR: OK
#j#  JVM: OK
#n# mirrored from ~/PWC/173/2/bruce-gray.raku
#n# OEIS:A000058 Sylvester's_sequence: a(n+1) = a(n)^2 - a(n) + 1, with a(0) = 2

# All of these produce the same sequence:
constant @Sylvester's_sequence =
    2, 3, { 1 + [×] @_ } … *;
    # 2, { $_² - $_ + 1 } … *;
    # 2, -> \a { a² - a + 1 } … *;
    # 2, -> \a { a × (a - 1) + 1 } … *;

#multi sub MAIN ( $count = 10 ) {
#    say @Sylvester's_sequence.head($count);
#}

#multi sub MAIN ( 'test' ) {
    constant @A000058 = 2, 3, 7, 43, 1807, 3263443, 10650056950807, 113423713055421844361000443, 12864938683278671740537145998360961546653259485195807, 165506647324519964198468195444439180017513152706377497841851388766535868639572406808911988131737645185443, 27392450308603031423410234291674686281194364367580914627947367941608692026226993634332118404582438634929548737283992369758487974306317730580753883429460344956410077034761330476016739454649828385541500213920807, 750346333909286311464218348364293017384724140073732363176684391768374238237200233203724274839819736227493060107386942069521875902258281351952761393460726027774387698896086030486687796275661950199835484418384103096899499524666007073298797852932127876923983340497448231960048833094195425231846478785035602339261149953564729371337917773386670133413581537490788020231265093210310224397095644371148893261284201611453610443, 563019620811106188735345793029131127645126456201508328395934709948713369875017428398616526515350801978901280848429236023780360625686785326318172135941491985234945009397938528773976977887356630327917721419666751591559883455828027643329740930320548089836575156581070880066847294722353255119648341271402723167206816552066010592134725124376810874159292118224274440907862996344067325025151751506647339684959479438354192989470470488621172745980086435801519575581664038703641801974453354864238123148678312993828328158261237284571445163949954735321181426755485563860804935755099928085508785637606452207007984638610604113718738727804169240213041488645142155664706600019329809186121988322464207409749450811638629159492106903853533242008723387118397794980575878357156285111258733862431522178328441469980110808406224908967784943255608168545045807;

    use Test;
    plan 1;
    
    is @Sylvester's_sequence.head(13), @A000058,
        'Exact match for OEIS A000058 extended `b-file`: https://oeis.org/A000058/b000058.txt';
#}
