#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Reflection/Get_source
#c# 2016-08-01 <>RC
#m# MOAR: OK
#j#  JVM: BROKEN
#n# precompilation hash needs to be updated fairly often...
#n# 2022-10-06 recent fixes on precomp/CURI causing series of updates here?

# A full path is provided for built-in routines/methods. 
# However for routines exported by pre-compiled modules a precompilation hash is returned, not a proper file path. 

say &sum.file;
say Date.^find_method("day-of-week").file;

use Test;
is &is.file, 'core#sources/BA0A8ECE7193B11E0DFF39CC622C1FD2010FA3AF (Test)';

is &sum.file, 'SETTING::src/core.c/Any.pm6';
is Date.^find_method("day-of-week").file, 'SETTING::src/core.c/Dateish.pm6';
