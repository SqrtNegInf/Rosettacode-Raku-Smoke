#!/usr/bin/env perl6
#u# http://rosettacode.org/wiki/Write_language_name_in_3D_ASCII
#c# 2018-03-21 <RC, 2018-03-22 >RC
#m# MOAR: OK
#j# JVM:  OK
#n# less likely to fail due to 'srand' issues?

my @res;

srand 123456;
my @chars =  |｢-+ ., ;: '"｣.comb.pick(*) xx 1000;                # ' vim kludge

# must be evenly padded with white-space
my $text = q:to/END/;                                            # : vim kludge
                                
 @@@@@              @@          
 @    @              @     @@@  
 @    @              @    @@    
 @    @  @@@   @ @@  @    @@    
 @@@@@  @   @  @@  @ @    @@@@@ 
 @      @@@@@  @     @    @@  @@
 @      @      @     @    @@  @@
 @       @@@   @     @@    @@@@ 
                                
END

for $text.lines -> $_ is copy {
    chomp $_;
   #my @chars =  |｢-+ ., ;: '"｣.comb.pick(*) xx *;                # ' vim kludge
    s:g [' '] = @chars.shift;
    my $tmp = "                              $_  ";
    s:g [('@'+)(.)] = @chars.shift ~ $0;
    @res.push: "$tmp  $_";
}

.say for @res;

my $moar = q:to/END/;
                              ,: "-; .' + + ,:; "'-.:+.,-" ;'     ,: "-; .' + + ,:; "'-.:+.,-" ;' 
                               @@@@@", ' -.; +: ' @@ ,-."+;:+,     "@@@@@, ' -.; +: ' '@@,-."+;:+,
                               @.;  @:-,  .+;-' :" @:-;"'@@@,.      @;  +@-,  .+;-' :"  @-;"' @@@.
                              "@; - @'+:,..- ;:", '@ +- @@.  '    "+@ - ,@+:,..- ;:", ':@+- ;@@  '
                              "@+. ;@ ,@@@" :@'@@-.@: "-@@;  ,    "+@. ;'@, @@@ :'@ @@. @ "-;@@  ,
                              :@@@@@.-@"+,@:+@@ "@ @' .,@@@@@;    :-@@@@@-:@+, @+ @@"+@'@ .,"@@@@@
                              ,@;- ..+@@@@@ '@:"-, @ ;'.@@,;@@    , @- ..+:@@@@@' @"-, "@;'.+@@; @
                              -@ . +:"@;, -' @ ": ,@+.'-@@;;@@    - @. +:":@, -'  @": , @.'-,@@;'@
                              "@+.-'-" @@@,. @ +:;,@@'-" @@@@.    ":@.-'-" +@@@.  @+:;,;@@-"  @@@@
                              ,+. :";' - ,-'  +.;: ",:.+ '"- ;    ,+. :";' - ,-'  +.;: ",:.+ '"- ;
END

my $jvm = q:to/END/;
                              ,'  -. ":+;+"  -;,:.' ' + - ;,."    ,'  -. ":+;+"  -;,:.' ' + - ;,."
                              :@@@@@, ":  '-;.+: '@@".-;, + -+    ::@@@@@ ":  '-;.+: ' @@.-;, + -+
                              '@  ;"@.,+-:.; ',"   @'+ :,@@@.;    ' @ ;""@,+-:.; ',"   -@+ :,+@@@;
                               @"'.;@ ,: -+";',-.  @ :  @@, "'     :@'.;-@,: -+";',-.  +@:  ;@@ "'
                              .@",+:@ -@@@' ;@ @@. @:;+ @@-.',    ."@,+: @- @@@ ;'@+@@ ,@;+ ;@@.',
                               @@@@@-"@ .:@: @@;+@ @ -'"@@@@@.     ,@@@@@"'@.:;@ -@@+.@ @-'":@@@@@
                              +@,"  ";@@@@@  @:'.-,@ ++:@@  @@    +,@"  ";;@@@@@ '@'.-, @++:-@@ "@
                              .@": , ;@.' -+'@  :-.@;, "@@+ @@    .:@: , ;'@' -+' @ :-.,@, ";@@ +@
                               @"-.:.+,@@@'- @"  ; @@:+ -@@@@'     "@-.:.+,.@@@- ;@  ;  @@+ -,@@@@
                              - :,+ ;"'.   "+ ,;-:'." ;-+,.:'     - :,+ ;"'.   "+ ,;-:'." ;-+,.:' 
END

use Test;
is @res.join("\n"), chomp $*VM ~~ /jvm/ ?? $jvm !! $moar;
