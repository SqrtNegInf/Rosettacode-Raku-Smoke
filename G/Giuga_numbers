#!/usr/bin/env raku
#u# http://rosettacode.org/wiki/Giuga_numbers
#c# 2022-07-xx NOT ON RC
#m# MOAR: OK
#j#  JVM: OK
#n# OEIS:A007850
#n# hyper no help

use Prime::Factor;

my @giuga = lazy gather for (4, 6, 8 … ∞).grep(!*.is-prime) -> $n { take $n if $n.&prime-factors.map({($n/$_ - 1) %% $_}).all }  # faster
#my @giuga = lazy gather for 4…∞ -> $n { take $n if $n.grep({ !.is-prime }) and $n.&prime-factors.map({($n/$_ - 1) %% $_}).all }

.say for @giuga[^4];

use Test;
is @giuga[^4].join(' '), '30 858 1722 66198';
