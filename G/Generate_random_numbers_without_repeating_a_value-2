#!/usr/bin/env raku
#u# http://rosettacode.org/wiki/Generate_random_numbers_without_repeating_a_value
#c# 2021-08-28 <RC
#m# MOAR: OK
#j# JVM:  BROKEN
#n# illustrate use of enhanced 'pick'
#n# and illustrate another 'srand' fragility...

#use v6.e.PREVIEW; 

srand 123456;

my @res.push: $_ for (1..20).pick(**).[^100].batch(20);

.say for @res;

my $moar-terminal = q:to/END/;
19 12 15 17 11 4 9 18 5 13 14 20 2 16 8 6 1 3 7 10
11 4 19 5 1 7 12 17 15 10 14 20 8 9 3 13 6 18 16 2
3 4 8 6 7 12 1 13 16 20 17 9 15 5 2 18 19 14 10 11
6 17 14 18 19 9 15 8 16 7 12 1 10 13 5 4 3 20 2 11
14 9 18 2 19 12 16 13 4 15 7 8 11 17 3 6 10 5 20 1
END

my $moar-cronjob = q:to/END/;
12 5 8 19 14 18 4 7 3 16 2 9 10 15 11 1 17 6 20 13
17 7 10 15 11 16 13 14 6 20 8 18 4 2 1 12 19 5 3 9
1 18 10 4 19 15 12 9 3 13 16 20 7 5 2 8 14 17 6 11
12 20 13 11 14 1 15 2 9 8 6 19 10 16 5 3 4 7 18 17
12 19 6 5 11 13 18 3 17 14 20 7 10 15 16 1 2 4 8 9
END

use Test;
is @res.join("\n"), chomp $*IN.t ?? $moar-terminal !! $moar-cronjob;
