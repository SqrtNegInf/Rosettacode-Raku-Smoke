#!/usr/bin/env raku
#u# http://rosettacode.org/wiki/Generate_random_numbers_without_repeating_a_value
#c# 2021-08-28 <RC
#m# MOAR: OK
#j# JVM:  BROKEN
#n# illustrate use of enhanced 'pick'
#n# and illustrate another 'srand' fragility...

#use v6.e.PREVIEW; 

srand 123456;

my @res.push: $_ for (1..20).pick(**).[^100].batch(20);

.put for @res;

my $moar-terminal = q:to/END/;
5 19 18 12 15 14 11 2 16 8 9 6 1 3 10 13 20 17 4 7
17 19 12 4 10 20 6 15 11 14 3 5 2 16 1 9 18 13 8 7
4 5 1 8 14 6 17 12 16 13 10 9 20 7 19 11 2 18 3 15
9 7 8 14 1 15 18 4 17 11 20 19 2 6 10 16 13 12 5 3
15 16 20 10 17 19 11 8 14 1 12 2 6 5 4 7 3 18 9 13
END

my $moar-cronjob = q:to/END/;
16 3 17 12 14 10 2 4 18 5 19 15 8 11 7 6 9 1 20 13
8 6 16 10 4 20 3 5 2 11 12 14 13 17 7 19 1 15 9 18
11 17 12 13 15 16 7 19 9 18 4 3 2 8 20 14 5 6 1 10
11 5 20 17 14 18 4 15 12 1 9 6 3 10 19 7 16 2 8 13
15 12 16 1 17 2 10 9 7 11 19 18 6 4 8 13 3 14 20 5
END

use Test;
is @res.join("\n"), chomp $*IN.t ?? $moar-terminal !! $moar-cronjob;
